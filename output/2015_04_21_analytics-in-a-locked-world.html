<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Analytics in a locked world | Another Life Form
</title>
  <link rel="canonical" href="/2015_04_21_analytics-in-a-locked-world.html">

  <link rel="alternate" type="application/atom+xml" href="/feeds/all.atom.xml" title="Full Atom Feed">
  <link rel="alternate" type="application/atom+xml" href="/feeds/data-science.atom.xml" title="Categories Atom Feed">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/monokai.min.css">
  <link rel="stylesheet" href="/theme/css/style.css">


<meta name="description" content="As a data scientist, I have to deal with data from several different sources. This begs for a wide range of tools and great flexibility of using these tools, otherwise manipulating the data can be almost impossible. And then your employer says that you can only use Windows, without admin …">
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <h1 class="title"><a href="">Another Life Form</a></h1>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="https://br.linkedin.com/in/ispmarin/en" target="_blank">linkedin</a></li>
            <li class="list-inline-item"><a href="https://github.com/ispmarin" target="_blank">github</a></li>
            <li class="list-inline-item text-muted">|</li>
            <li class="list-inline-item"><a href="/pages/about.html">About</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>Analytics in a locked&nbsp;world
</h1>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2015-04-21T19:25:00-03:00">
        <i class="fa fa-clock-o"></i>
        Ter 21 Abril 2015
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="/category/data-science.html">data science</a>
      </li>
      <li class="list-inline-item">
        <i class="fa fa-user-o"></i>
        <a href="/author/ivan-marin.html">Ivan Marin</a>      </li>
      <li class="list-inline-item">
        <i class="fa fa-files-o"></i>
        <a href="/tag/pandas.html">#pandas</a>,         <a href="/tag/python.html">#Python</a>      </li>
    </ul>
  </header>
  <div class="content">
    <p>As a data scientist, I have to deal with data from several different
sources. This begs for a wide range of tools and great flexibility of
using these tools, otherwise manipulating the data can be almost
impossible. And then your employer says that you can only use Windows,
without admin rights, and you can only install software from a very
restrict pre-approved list. What do you do? Go to a corner and&nbsp;cry?</p>
<p>Almost. But then, you find a breach, a sliver of hope. You can install
python on your machine. And in this moment, you smile, asking if you&#8217;re
up to the challenge. (Dramatic,&nbsp;no?)</p>
<p>With one of the best Python installations for Windows is
<a class="reference external" href="https://winpython.github.io/">WinPython</a>, that comes prepackaged
with <a class="reference external" href="https://github.com/winpython/winpython/issues/56">Numpy, Scipy and
Pandas</a> and other
neat stuff, you can start really working. The second best part is that
you can install on your user folder, so you don&#8217;t need admin rights.
Ufta! And the savior for sane workflows in this setting is
<a class="reference external" href="https://jupyter.org/">Jupyter</a>, the new IPython shell. It is awesome
for the data and modelling&nbsp;workflow.</p>
<p>My workflow now consists&nbsp;of:</p>
<p>1. Getting all raw data in one place, be excel spreadsheets (don&#8217;t ask),
<span class="caps">CSV</span> files, word files (I said don&#8217;t ask!), and some data banks. Most of
my data are time&nbsp;series.</p>
<p>2. Importing the data or connecting the services on a jupyter python
notebook. I have to connect to an oracle <span class="caps">BD</span>, so
<a class="reference external" href="http://cx-oracle.sourceforge.net/">cx_Oracle</a> is the&nbsp;connector.</p>
<p>3. Parsing the data with
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.excel.ExcelFile.parse.html">ExcelFile</a>
from <a class="reference external" href="http://pandas.pydata.org/">pandas</a>. It can be tricky. As each
sheet is different, I use a <span class="caps">JSON</span> file with the starting line, starting
and ending columns, number of lines to be read and headers. That way I
can process it automatically, and if the file changes is quite easy to&nbsp;adjust.</p>
<p>4. Ok, clear the data! This is usually the most problematic part. One of
the things that I had to do was to convert zero values to NaNs. The
reason is that zero is a valid value on my data, but not a real one, so
it would skew all statistics. Pandas can handle NaNs in the<a class="reference external" href="http://pandas.pydata.org/pandas-docs/version/0.16.0/gotchas.html">Right
Way</a>,
so you would be better off. But beware, there are a few problems with
<a class="reference external" href="http://stackoverflow.com/questions/29747850/error-using-bootstrap-plot-in-pandas-if-values-have-nan">some
functions</a>,
so you have to be careful&nbsp;anyway.</p>
<p>5. With the data in a proper format, (<a class="reference external" href="www.jstatsoft.org/v59/i10/paper">tidy
format</a>, NaNs for invalid values,
all values with proper references), I start doing some exploratory
analysis on the data. For now, basic stuff like line graphs, boxplots,
averages by year and month, autocorrelation and some rolling means, and
scatter&nbsp;plots.</p>
<p>6. With that things start to get more interesting. I decided to use
<a class="reference external" href="http://scikit-learn.org/stable/">Scikit-Learn</a> to do the regressions
instead of statsmodels because of the next step, prediction. You have to
transform the data again so scikit can understand it, but it&#8217;s<a class="reference external" href="http://stackoverflow.com/questions/29748717/use-scikit-learn-to-do-linear-regression-on-a-time-series-pandas-data-frame">not
that
hard</a>,
and worth the while. Now I do some stardard Linear Squares to get the
trend and a <span class="caps">RANSAC</span> to get more specific&nbsp;results.</p>
<p>And all this inside a ipython notebook! Pretty awesome, right? Next
steps, do a full
<a class="reference external" href="http://en.wikipedia.org/wiki/Box%E2%80%93Jenkins">Box-Jenkins</a> on
the&nbsp;results.</p>

  </div>
</article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">
          <li class="list-inline-item"><a href="/authors.html">Authors</a></li>
          <li class="list-inline-item"><a href="/archives.html">Archives</a></li>
          <li class="list-inline-item"><a href="/categories.html">Categories</a></li>
          <li class="list-inline-item"><a href="/tags.html">Tags</a></li>
        </ul>
        <p class="col-sm-6 text-sm-right text-muted">
          Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a> / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>